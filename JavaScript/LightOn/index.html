<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <style>
        html * {
            margin: 0;
            padding: 0;
        }

        ul {
            width: 170px;
            list-style: none
        }

        .rating-item {
            width: 34px;
            height: 34px;
            float: left;
            background: url('./star.png') 0px 0px no-repeat;
        }
    </style>
</head>
<body>
<ul id="rating" class="rating">
    <li class="rating-item"></li>
    <li class="rating-item"></li>
    <li class="rating-item"></li>
    <li class="rating-item"></li>
    <li class="rating-item"></li>
</ul>
<script>
    var num = 2;
    var $ratingItem = $('.rating-item');
    function lightOn(num) {
        $ratingItem.each(function (i, v) {
            if (i < num) {
                $(this).css("background-position", "-1px -40px")

            } else {
                $(this).css("background-position", "0px 0px")
            }
        })
    }

    lightOn();

    $('.rating-item').on('mouseover', function () {
        lightOn($(this).index() + 1);
    }).on('click', function () {
        num = $(this).index() + 1;
    })
    $('#rating').on('mouseout', function () {
        lightOn(num);
    })
    
</script>
</body>
</html>